# 前端使用手册

本手册面向业务与运营同学，说明控制台页面的功能与交互方式。前端静态资源位于 `frontend/`，后端自动挂载到 `/console`。

控制台默认使用原始 API 路径（无前缀）。

---

## 1. 页面入口

- 总览仪表盘：`/console/index.html`
- 应用控制台：`/console/app.html?app_id=<app_id>`
- 数据存储：`/console/stores.html`
- 设置：`/console/settings.html`

---

## 2. 总览仪表盘

功能：

- 展示应用列表、知识库数量、向量条目数
- 摄取时间线（最近事件）
- 快速跳转 Stores / Settings / 应用控制台

交互说明：

- 顶部 API 状态指示灯基于 `/health`
- “刷新应用”会更新应用与 KB 统计
- “查看摄取”滚动到摄取区域

---

## 3. 应用控制台

### 3.1 知识库

显示当前应用的 KB 列表与详细配置：

- collection 名
- 文档数量
- 向量数量
- 权限模式（public / restricted）

### 3.2 文档表格

文档管理能力：

- 表头点击排序
- 分页与每页条数切换
- 列偏好持久化（localStorage）
- 复选框 + 批量导出 / 删除
- 详情抽屉：字段详情 + JSON + 编辑表单

### 3.3 记忆写入

表单调用 `/memory/push`：

- 适合直接测试会话历史写入
- 写入后会显示返回信息

### 3.4 摄取时间线

展示当前应用最近摄取事件：

- 支持导出 JSON
- 与 `/ingestion/logs` 数据源一致

---

## 4. 数据存储

功能：

- 展示 `/stores/health` 检查结果
- 显示存储健康状态、诊断信息
- 提供快速进入应用控制台的入口

---

## 5. 设置

功能：

- 设置 API Base（如访问非同源后端）
- 连接测试
- 清空缓存的 API Base

---

## 6. 常见问题

- 页面显示离线：检查 `/health` 是否返回 OK
- 文档为空：确认选中的 KB 与 `wallet_id` 过滤条件
- 新建文档无向量：确保填写 `text` 或提交向量字段
